<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="./favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <base href="/">
    <link rel="manifest" href="./manifest.json">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="./amazon-cognito-auth.min.js"></script>
    <script>

        //todo
        let authData = {
            ClientId : '4crf49iqi0t43j0t1u7h71tn4', // Your client id here
            AppWebDomain :  'school.auth.ap-northeast-1.amazoncognito.com',
            TokenScopesArray : ['phone', 'email', 'profile','openid', 'aws.cognito.signin.user.admin'], // e.g.['phone', 'email', 'profile','openid', 'aws.cognito.signin.user.admin'],
            RedirectUriSignIn : 'http://localhost:3000',
            RedirectUriSignOut : 'http://localhost:3000',
            UserPoolId : 'ap-northeast-1_ABBytG87Z', // Your user pool id here
            AdvancedSecurityDataCollectionFlag : true, // e.g. true
            // Storage: '<TODO the storage object>' // OPTIONAL e.g. new CookieStorage(), to use the specified storage provided
        };

        var auth = new AmazonCognitoIdentity.CognitoAuth(authData);

        auth.userhandler = {
            onSuccess: function(result) {
                console.info("Sign in success");
            },
            onFailure: function(err) {
                console.info("Error!");
            }
        };

        // The default response_type is "token", make it be "code for Authorization code process".
        auth.useCodeGrantFlow();

        let curUrl = window.location.href;
        auth.parseCognitoWebResponse(curUrl);

        function getAuth() {
            return auth;
        }

    </script>
    <title>Booking UI</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
